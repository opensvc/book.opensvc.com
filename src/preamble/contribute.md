# Contribute

OpenSVC projects, including this documentation, are hosted on Github.

## Install Git

	sudo apt-get install git
	git config --global user.name "First Last Name"
	git config --global user.email "first.lastname@domain.com"

## Clone the agent and book projects

	cd /tmp
	git clone https://github.com/opensvc/book.opensvc.com.git
	git clone https://github.com/opensvc/opensvc.git

## Build the agent

	(cd opensvc && make om)

## Install mdbook

From https://github.com/rust-lang/mdBook/releases

## Make autogenerated documentation

	(cd book.opensvc.com && OM=../opensvc/bin/om make)

## Contribute Documentations

	(cd book.opensvc.com && && mdbook serve --open)

Modify the documentation source files (.md located in the `src` directory and referenced in src/SUMMARY.md)


# Command Line Output Coloring

When producing command line output, it is expected to follow the steps below to preserve colors, so as to provide a better experience for futures readers:

## Install ansi2html

From https://github.com/ralphbean/ansi2html

## generate raw html code from cli:

	$ om node print devs --color=yes | aha -n

Edit the .md document and copy/paste the previous output enclosed between `<pre>` and `</pre>`:

	<pre>
            <span style="font-weight: bold">centos71.opensvc.com                        </span>  <span style="font-weight: bold">Type  </span>  <span style="font-weight: bold">Size</span>  <span style="font-weight: bold">Pct of Parent</span>  
            `- <span style="color: #aa5500">vda                                      </span>  linear  15g   -              
               |- <span style="color: #aa5500">vda1                                  </span>  linear  500m  3%             
               `- <span style="color: #aa5500">vda2                                  </span>  linear  14g   96%            
                  |- <span style="color: #aa5500">centos_centos71-swap               </span>  linear  1g    10%            
                  `- <span style="color: #aa5500">centos_centos71-root               </span>  linear  13g   89%            
                     |- <span style="color: #aa5500">loop2                           </span>  linear  50m   0%             
                     |  |- <span style="color: #aa5500">testsvc1-lv1                 </span>  linear  20m   40%            
                     |  `- <span style="color: #aa5500">testsvc1-lv2                 </span>  linear  20m   40%            
                     |- <span style="color: #aa5500">loop1                           </span>  linear  100m  0%             
                     |  |- <span style="color: #aa5500">testsvc3-lv2                 </span>  linear  20m   20%            
                     |  |- <span style="color: #aa5500">testsvc3-lv1-real            </span>  linear  52m   52%            
                     |  |  |- <span style="color: #aa5500">testsvc3-lv1              </span>  linear  52m   100%           
                     |  |  `- <span style="color: #aa5500">testsvc3-osvc_sync_lv1    </span>  linear  52m   100%           
                     |  `- <span style="color: #aa5500">testsvc3-osvc_sync_lv1-cow   </span>  linear  8m    8%             
                     |     `- <span style="color: #aa5500">testsvc3-osvc_sync_lv1    </span>  linear  52m   650%           
                     `- <span style="color: #aa5500">loop0                           </span>  linear  100m  0%             
                        |- <span style="color: #aa5500">testsvc2-lv1                 </span>  linear  52m   52%            
                        `- <span style="color: #aa5500">testsvc2-lv2                 </span>  linear  20m   20%            
        </pre>

The result looks like:

<pre>
	<span style="font-weight: bold">centos71.opensvc.com                        </span>  <span style="font-weight: bold">Type  </span>  <span style="font-weight: bold">Size</span>  <span style="font-weight: bold">Pct of Parent</span>  
	`- <span style="color: #aa5500">vda                                      </span>  linear  15g   -              
	   |- <span style="color: #aa5500">vda1                                  </span>  linear  500m  3%             
	   `- <span style="color: #aa5500">vda2                                  </span>  linear  14g   96%            
	      |- <span style="color: #aa5500">centos_centos71-swap               </span>  linear  1g    10%            
	      `- <span style="color: #aa5500">centos_centos71-root               </span>  linear  13g   89%            
	         |- <span style="color: #aa5500">loop2                           </span>  linear  50m   0%             
	         |  |- <span style="color: #aa5500">testsvc1-lv1                 </span>  linear  20m   40%            
	         |  `- <span style="color: #aa5500">testsvc1-lv2                 </span>  linear  20m   40%            
	         |- <span style="color: #aa5500">loop1                           </span>  linear  100m  0%             
	         |  |- <span style="color: #aa5500">testsvc3-lv2                 </span>  linear  20m   20%            
	         |  |- <span style="color: #aa5500">testsvc3-lv1-real            </span>  linear  52m   52%            
	         |  |  |- <span style="color: #aa5500">testsvc3-lv1              </span>  linear  52m   100%           
	         |  |  `- <span style="color: #aa5500">testsvc3-osvc_sync_lv1    </span>  linear  52m   100%           
	         |  `- <span style="color: #aa5500">testsvc3-osvc_sync_lv1-cow   </span>  linear  8m    8%             
	         |     `- <span style="color: #aa5500">testsvc3-osvc_sync_lv1    </span>  linear  52m   650%           
	         `- <span style="color: #aa5500">loop0                           </span>  linear  100m  0%             
	            |- <span style="color: #aa5500">testsvc2-lv1                 </span>  linear  52m   52%            
	            `- <span style="color: #aa5500">testsvc2-lv2                 </span>  linear  20m   20%            
</pre>


### Decorating words

Awesome font icons can be inlined in the documentation. To make it easier and to enforce a common set of icon and color, include fragments are available in the `src/inc/` directory.

Syntax                                                                             | Rendering
-----------------------------------------------------------------------------------|-------------------------------------------------------------
&#123;&#123;#include ../inc/action&#125;&#125; action                              | {{#include ../inc/action}} action
&#123;&#123;#include ../inc/repo&#125;&#125; repo                                  | {{#include ../inc/repo}} repo
&#123;&#123;#include ../inc/registry&#125;&#125; registry                          | {{#include ../inc/registry}} registry
&#123;&#123;#include ../inc/node&#125;&#125; node                                  | {{#include ../inc/node}} node
&#123;&#123;#include ../inc/svc&#125;&#125; svc                                    | {{#include ../inc/svc}} svc
&#123;&#123;#include ../inc/res&#125;&#125; res                                    | {{#include ../inc/res}} res
&#123;&#123;#include ../inc/tag&#125;&#125; tag                                    | {{#include ../inc/tag}} tag
&#123;&#123;#include ../inc/svcenv&#125;&#125; svcenv                              | {{#include ../inc/svcenv}} svcenv
&#123;&#123;#include ../inc/env&#125;&#125; env                                    | {{#include ../inc/env}} env
&#123;&#123;#include ../inc/pkg&#125;&#125; pkg                                    | {{#include ../inc/pkg}} pkg
&#123;&#123;#include ../inc/net&#125;&#125; net                                    | {{#include ../inc/net}} net
&#123;&#123;#include ../inc/check&#125;&#125; check                                | {{#include ../inc/check}} check
&#123;&#123;#include ../inc/form&#125;&#125; form                                  | {{#include ../inc/form}} form
&#123;&#123;#include ../inc/report&#125;&#125; report                              | {{#include ../inc/report}} report
&#123;&#123;#include ../inc/metric&#125;&#125; metric                              | {{#include ../inc/metric}} metric
&#123;&#123;#include ../inc/chart&#125;&#125; chart                                | {{#include ../inc/chart}} chart
&#123;&#123;#include ../inc/group&#125;&#125; group                                | {{#include ../inc/group}} group
&#123;&#123;#include ../inc/priv&#125;&#125; priv                                  | {{#include ../inc/priv}} priv
&#123;&#123;#include ../inc/user&#125;&#125; user                                  | {{#include ../inc/user}} user
&#123;&#123;#include ../inc/dns-domain&#125;&#125; example.com                     | {{#include ../inc/dns-domain}} example.com
&#123;&#123;#include ../inc/dns-record&#125;&#125; example.com. IN A 12.13.14.15   | {{#include ../inc/dns-record}} example.com. IN A 12.13.14.15
&#123;&#123;#include ../inc/fset&#125;&#125; filterset                             | {{#include ../inc/fset}} filterset
&#123;&#123;#include ../inc/disk&#125;&#125; disk                                  | {{#include ../inc/disk}} disk
&#123;&#123;#include ../inc/array&#125;&#125; array                                | {{#include ../inc/array}} array
&#123;&#123;#include ../inc/diskgroup&#125;&#125; diskgroup                        | {{#include ../inc/diskgroup}} diskgroup
&#123;&#123;#include ../inc/rule&#125;&#125; rule                                  | {{#include ../inc/rule}} rule
&#123;&#123;#include ../inc/ruleset&#125;&#125; ruleset                            | {{#include ../inc/ruleset}} ruleset
&#123;&#123;#include ../inc/modset&#125;&#125; moduleset                           | {{#include ../inc/modset}} moduleset
&#123;&#123;#include ../inc/mod&#125;&#125; module                                 | {{#include ../inc/mod}} module
&#123;&#123;#include ../inc/app&#125;&#125; app                                    | {{#include ../inc/app}} application
&#123;&#123;#include ../inc/close&#125;&#125; close                                | {{#include ../inc/close}} close
&#123;&#123;#include ../inc/fullscreen&#125;&#125; fullscreen                      | {{#include ../inc/fullscreen}} fullscreen
&#123;&#123;#include ../inc/shrink&#125;&#125; shrink                              | {{#include ../inc/shrink}} shrink
&#123;&#123;#include ../inc/link&#125;&#125; link                                  | {{#include ../inc/link}} link
&#123;&#123;#include ../inc/kw&#125;&#125; keyword                                 | {{#include ../inc/kw}} keyword
&#123;&#123;#include ../inc/cmd&#125;&#125; command                                | {{#include ../inc/cmd}} command

<!--
## Contribute Translations
-->




